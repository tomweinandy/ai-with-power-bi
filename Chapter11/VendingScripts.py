{"payload":{"allShortcutsEnabled":false,"fileTree":{"":{"items":[{"name":".idea","path":".idea","contentType":"directory"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"AzureMLCompleteUnformated.pbix","path":"AzureMLCompleteUnformated.pbix","contentType":"file"},{"name":"ClusterAnalysisComplete.pbix","path":"ClusterAnalysisComplete.pbix","contentType":"file"},{"name":"GoogleTrendsData.zip","path":"GoogleTrendsData.zip","contentType":"file"},{"name":"ImageTagComplete.pbix","path":"ImageTagComplete.pbix","contentType":"file"},{"name":"ImageTagDemo.pbix","path":"ImageTagDemo.pbix","contentType":"file"},{"name":"PythonDemo.pbix","path":"PythonDemo.pbix","contentType":"file"},{"name":"RDemo.pbix","path":"RDemo.pbix","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"TextAnalyticsComplete.pbix","path":"TextAnalyticsComplete.pbix","contentType":"file"},{"name":"TextAnalyticsTransformed.pbix","path":"TextAnalyticsTransformed.pbix","contentType":"file"},{"name":"TimeSeriesComplete.pbix","path":"TimeSeriesComplete.pbix","contentType":"file"},{"name":"TimeSeriesDemo.pbix","path":"TimeSeriesDemo.pbix","contentType":"file"},{"name":"TrentinoListings.csv","path":"TrentinoListings.csv","contentType":"file"},{"name":"TrentinoListingsTransformed.csv","path":"TrentinoListingsTransformed.csv","contentType":"file"},{"name":"TrentinoReviews.csv","path":"TrentinoReviews.csv","contentType":"file"},{"name":"TrentinoReviewsTransformed.csv","path":"TrentinoReviewsTransformed.csv","contentType":"file"},{"name":"bas_64_emoji.txt","path":"bas_64_emoji.txt","contentType":"file"},{"name":"clean_airbnb_data.ipynb","path":"clean_airbnb_data.ipynb","contentType":"file"},{"name":"clean_taxi_data.ipynb","path":"clean_taxi_data.ipynb","contentType":"file"},{"name":"clean_vending_data.ipynb","path":"clean_vending_data.ipynb","contentType":"file"},{"name":"fav_econ-2.png","path":"fav_econ-2.png","contentType":"file"},{"name":"giza.jpg","path":"giza.jpg","contentType":"file"},{"name":"google_trends_examples.R","path":"google_trends_examples.R","contentType":"file"},{"name":"google_trends_examples.ipynb","path":"google_trends_examples.ipynb","contentType":"file"},{"name":"line_chart_default.pbix","path":"line_chart_default.pbix","contentType":"file"},{"name":"listings.csv","path":"listings.csv","contentType":"file"},{"name":"listings_og.csv","path":"listings_og.csv","contentType":"file"},{"name":"multiTimeline2023-04.csv","path":"multiTimeline2023-04.csv","contentType":"file"},{"name":"multiTimeline2023-05.csv","path":"multiTimeline2023-05.csv","contentType":"file"},{"name":"multiTimeline2023-06.csv","path":"multiTimeline2023-06.csv","contentType":"file"},{"name":"nyc_taxis.csv","path":"nyc_taxis.csv","contentType":"file"},{"name":"nyc_taxis_before_weather.csv","path":"nyc_taxis_before_weather.csv","contentType":"file"},{"name":"nyc_weather.csv","path":"nyc_weather.csv","contentType":"file"},{"name":"oreilly.csv","path":"oreilly.csv","contentType":"file"},{"name":"oreilly2.json","path":"oreilly2.json","contentType":"file"},{"name":"reviews.csv","path":"reviews.csv","contentType":"file"},{"name":"reviews_og.csv","path":"reviews_og.csv","contentType":"file"},{"name":"sample1.csv","path":"sample1.csv","contentType":"file"},{"name":"sample2.csv","path":"sample2.csv","contentType":"file"},{"name":"score_vending_model.ipynb","path":"score_vending_model.ipynb","contentType":"file"},{"name":"train_vending_model.ipynb","path":"train_vending_model.ipynb","contentType":"file"},{"name":"unique.csv","path":"unique.csv","contentType":"file"},{"name":"vend.csv","path":"vend.csv","contentType":"file"},{"name":"vending.csv","path":"vending.csv","contentType":"file"},{"name":"vending_frequencies.csv","path":"vending_frequencies.csv","contentType":"file"},{"name":"vending_model.pickle","path":"vending_model.pickle","contentType":"file"},{"name":"vending_model_train.R","path":"vending_model_train.R","contentType":"file"},{"name":"vending_revenue.csv","path":"vending_revenue.csv","contentType":"file"},{"name":"vending_revenue_forecast.csv","path":"vending_revenue_forecast.csv","contentType":"file"},{"name":"vending_scripts.R","path":"vending_scripts.R","contentType":"file"},{"name":"vending_scripts.py","path":"vending_scripts.py","contentType":"file"}],"totalCount":53}},"fileTreeProcessingTime":4.641666,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":573902928,"defaultBranch":"main","name":"AIinPowerBI","ownerLogin":"tomweinandy","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2022-12-03T19:48:55.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/39309844?v=4","public":true,"private":false,"isOrgOwned":false},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1689994383.0","canEdit":false,"refType":"branch","currentOid":"3219fb9a18a5569b80ae6fdbaf27b75411f97bc3"},"path":"vending_scripts.py","currentUser":null,"blob":{"rawLines":["\"\"\"","Scripts used for Chapter 10: Advanced Power BI and AI with Data Science Languages","\"\"\"","","#################################################################################","# Ingesting Data with Python","#################################################################################","","# Import packages","import os","import pandas as pd","","# Set directory","filepath = \"C:/Users/tomwe/Documents/GoogleTrendsData/\"","data_folder = os.path.expanduser(filepath)","","# Read the list of files in the specified folder","files = os.listdir(data_folder)","","# Extract \"multiTimeline\" files","google_trends_files = [file for file in files if file[0:13] == \"multiTimeline\"]","","# Identify the most recent date","most_recent_file = max(google_trends_files)","","# Load data","df = pd.read_csv(filepath + most_recent_file, skiprows=2)","print(df)","","","#################################################################################","# Transforming Data with Python","#################################################################################","","# Import packages","import pandas as pd","","# Add six-month moving average","df_rolling = dataset.set_index(\"Month\")","df_rolling = df_rolling.rolling(6, min_periods=1).mean()","df_rolling = df_rolling.reset_index()","","# Rename columns","df_rolling = df_rolling.rename(columns={\"Month\":\"month_year\", \"python machine learning: (United States)\":\"python_moving_average\", \"r machine learning: (United States)\": \"r_moving_average\"})","","# Insert original columns to the new dataframe","df_rolling.insert(1, \"python_machine_learning\", dataset[\"python machine learning: (United States)\"])","df_rolling.insert(2, \"r_machine_learning\", dataset[\"r machine learning: (United States)\"])","","# Encode date to proper format and insert into dataframe","date_column = pd.to_datetime(df_rolling[\"month_year\"]).dt.date","df_rolling.insert(1, \"date\", date_column)","","","#################################################################################","# Visualizing Data with Python","#################################################################################","","# Import packages","import matplotlib.pyplot as plt","","# Format plot","fig = plt.figure(figsize=(16,8), dpi=200)","plt.title(\"Change in Programming Language Popularity Over Time\", fontsize=20)","plt.ylabel(\"Google Search Frequency Index\", fontsize=16)","plt.yticks(fontsize=16)","","# Plot moving averages as a line","plt.plot(dataset[\"month_year\"], dataset[\"python_moving_average\"], c=\"gold\", linewidth=3)","plt.plot(dataset[\"month_year\"], dataset[\"r_moving_average\"], c=\"red\", linewidth=3)","","# Plot monthly observations as a scatter plot","plt.scatter(x=dataset[\"month_year\"], y=dataset[\"python_machine_learning\"], c=\"gold\", alpha=0.5)","plt.scatter(x=dataset[\"month_year\"], y=dataset[\"r_machine_learning\"], c=\"red\", alpha=0.5)","","# Set the x-axis tick positions, labels, and angle","xticks = dataset[\"month_year\"][6:][::12]   # skip first 6 labels (to start in January) then select every 12th label thereafter","xtick_labels = [str(i) for i in xticks]","plt.xticks(xticks, xtick_labels, fontsize=20)","plt.xticks(rotation=30)","","# Add the legend","plt.legend([\"Python machine learning\", \"R machine learning\"], fontsize=16, frameon=False)","","# Display plot","plt.show()","","","#################################################################################","# Using a Pre-Trained Model with Python on Transform","#################################################################################","","# Load packages","import pandas as pd","import pickle","import requests","import tensorflow as tf","from sklearn.preprocessing import LabelEncoder","","# Locate pre-trained model from GitHub","algo_url = \"https://raw.githubusercontent.com/tomweinandy/AIinPowerBI/main/vending_model.pickle\"","","# Clean data","df = dataset","df = df.dropna()","df = df.drop(columns=[\"WeekStartingSat\"])","","# Load the pickled deep learning algorithm","response = requests.get(algo_url)","model_info = pickle.loads(response.content)","","# Reconstruct the model architecture","loaded_model = tf.keras.models.model_from_json(model_info[\"architecture\"])","","# Set the model weights","loaded_model.set_weights(model_info[\"weights\"])","","# Preprocess the data","label_encoder = LabelEncoder()","df[\"Location\"] = label_encoder.fit_transform(df[\"Location\"])  # Encode location labels","","# Split the data into input features (X)","X = df.drop(\"Location\", axis=1)","","# Predict the labels","predictions = loaded_model.predict(X)","","# Change predictions to integers between 0 and 4","encoded_labels = [int(min(max(p.round(0), 0), 4)) for p in predictions]","","# Decode the predicted labels","decoded_labels = label_encoder.inverse_transform(encoded_labels)","","# Add the predicted labels to the DataFrame","df.insert(0, \"Predicted_Location\", decoded_labels)","","# Decode Location","df[\"Location\"] = label_encoder.inverse_transform(df[\"Location\"])"],"stylingDirectives":[[{"start":0,"end":3,"cssClass":"pl-s"}],[{"start":0,"end":81,"cssClass":"pl-s"}],[{"start":0,"end":3,"cssClass":"pl-s"}],[],[{"start":0,"end":81,"cssClass":"pl-c"}],[{"start":0,"end":28,"cssClass":"pl-c"}],[{"start":0,"end":81,"cssClass":"pl-c"}],[],[{"start":0,"end":17,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":9,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":13,"cssClass":"pl-s1"},{"start":14,"end":16,"cssClass":"pl-k"},{"start":17,"end":19,"cssClass":"pl-s1"}],[],[{"start":0,"end":15,"cssClass":"pl-c"}],[{"start":0,"end":8,"cssClass":"pl-s1"},{"start":9,"end":10,"cssClass":"pl-c1"},{"start":11,"end":55,"cssClass":"pl-s"}],[{"start":0,"end":11,"cssClass":"pl-s1"},{"start":12,"end":13,"cssClass":"pl-c1"},{"start":14,"end":16,"cssClass":"pl-s1"},{"start":17,"end":21,"cssClass":"pl-s1"},{"start":22,"end":32,"cssClass":"pl-en"},{"start":33,"end":41,"cssClass":"pl-s1"}],[],[{"start":0,"end":48,"cssClass":"pl-c"}],[{"start":0,"end":5,"cssClass":"pl-s1"},{"start":6,"end":7,"cssClass":"pl-c1"},{"start":8,"end":10,"cssClass":"pl-s1"},{"start":11,"end":18,"cssClass":"pl-en"},{"start":19,"end":30,"cssClass":"pl-s1"}],[],[{"start":0,"end":31,"cssClass":"pl-c"}],[{"start":0,"end":19,"cssClass":"pl-s1"},{"start":20,"end":21,"cssClass":"pl-c1"},{"start":23,"end":27,"cssClass":"pl-s1"},{"start":28,"end":31,"cssClass":"pl-k"},{"start":32,"end":36,"cssClass":"pl-s1"},{"start":37,"end":39,"cssClass":"pl-c1"},{"start":40,"end":45,"cssClass":"pl-s1"},{"start":46,"end":48,"cssClass":"pl-k"},{"start":49,"end":53,"cssClass":"pl-s1"},{"start":54,"end":55,"cssClass":"pl-c1"},{"start":56,"end":58,"cssClass":"pl-c1"},{"start":60,"end":62,"cssClass":"pl-c1"},{"start":63,"end":78,"cssClass":"pl-s"}],[],[{"start":0,"end":31,"cssClass":"pl-c"}],[{"start":0,"end":16,"cssClass":"pl-s1"},{"start":17,"end":18,"cssClass":"pl-c1"},{"start":19,"end":22,"cssClass":"pl-en"},{"start":23,"end":42,"cssClass":"pl-s1"}],[],[{"start":0,"end":11,"cssClass":"pl-c"}],[{"start":0,"end":2,"cssClass":"pl-s1"},{"start":3,"end":4,"cssClass":"pl-c1"},{"start":5,"end":7,"cssClass":"pl-s1"},{"start":8,"end":16,"cssClass":"pl-en"},{"start":17,"end":25,"cssClass":"pl-s1"},{"start":26,"end":27,"cssClass":"pl-c1"},{"start":28,"end":44,"cssClass":"pl-s1"},{"start":46,"end":54,"cssClass":"pl-s1"},{"start":54,"end":55,"cssClass":"pl-c1"},{"start":55,"end":56,"cssClass":"pl-c1"}],[{"start":0,"end":5,"cssClass":"pl-en"},{"start":6,"end":8,"cssClass":"pl-s1"}],[],[],[{"start":0,"end":81,"cssClass":"pl-c"}],[{"start":0,"end":31,"cssClass":"pl-c"}],[{"start":0,"end":81,"cssClass":"pl-c"}],[],[{"start":0,"end":17,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":13,"cssClass":"pl-s1"},{"start":14,"end":16,"cssClass":"pl-k"},{"start":17,"end":19,"cssClass":"pl-s1"}],[],[{"start":0,"end":30,"cssClass":"pl-c"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":12,"cssClass":"pl-c1"},{"start":13,"end":20,"cssClass":"pl-s1"},{"start":21,"end":30,"cssClass":"pl-en"},{"start":31,"end":38,"cssClass":"pl-s"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":12,"cssClass":"pl-c1"},{"start":13,"end":23,"cssClass":"pl-s1"},{"start":24,"end":31,"cssClass":"pl-en"},{"start":32,"end":33,"cssClass":"pl-c1"},{"start":35,"end":46,"cssClass":"pl-s1"},{"start":46,"end":47,"cssClass":"pl-c1"},{"start":47,"end":48,"cssClass":"pl-c1"},{"start":50,"end":54,"cssClass":"pl-en"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":12,"cssClass":"pl-c1"},{"start":13,"end":23,"cssClass":"pl-s1"},{"start":24,"end":35,"cssClass":"pl-en"}],[],[{"start":0,"end":16,"cssClass":"pl-c"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":12,"cssClass":"pl-c1"},{"start":13,"end":23,"cssClass":"pl-s1"},{"start":24,"end":30,"cssClass":"pl-en"},{"start":31,"end":38,"cssClass":"pl-s1"},{"start":38,"end":39,"cssClass":"pl-c1"},{"start":40,"end":47,"cssClass":"pl-s"},{"start":48,"end":60,"cssClass":"pl-s"},{"start":62,"end":104,"cssClass":"pl-s"},{"start":105,"end":128,"cssClass":"pl-s"},{"start":130,"end":167,"cssClass":"pl-s"},{"start":169,"end":187,"cssClass":"pl-s"}],[],[{"start":0,"end":46,"cssClass":"pl-c"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":17,"cssClass":"pl-en"},{"start":18,"end":19,"cssClass":"pl-c1"},{"start":21,"end":46,"cssClass":"pl-s"},{"start":48,"end":55,"cssClass":"pl-s1"},{"start":56,"end":98,"cssClass":"pl-s"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":17,"cssClass":"pl-en"},{"start":18,"end":19,"cssClass":"pl-c1"},{"start":21,"end":41,"cssClass":"pl-s"},{"start":43,"end":50,"cssClass":"pl-s1"},{"start":51,"end":88,"cssClass":"pl-s"}],[],[{"start":0,"end":56,"cssClass":"pl-c"}],[{"start":0,"end":11,"cssClass":"pl-s1"},{"start":12,"end":13,"cssClass":"pl-c1"},{"start":14,"end":16,"cssClass":"pl-s1"},{"start":17,"end":28,"cssClass":"pl-en"},{"start":29,"end":39,"cssClass":"pl-s1"},{"start":40,"end":52,"cssClass":"pl-s"},{"start":55,"end":57,"cssClass":"pl-s1"},{"start":58,"end":62,"cssClass":"pl-s1"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":17,"cssClass":"pl-en"},{"start":18,"end":19,"cssClass":"pl-c1"},{"start":21,"end":27,"cssClass":"pl-s"},{"start":29,"end":40,"cssClass":"pl-s1"}],[],[],[{"start":0,"end":81,"cssClass":"pl-c"}],[{"start":0,"end":30,"cssClass":"pl-c"}],[{"start":0,"end":81,"cssClass":"pl-c"}],[],[{"start":0,"end":17,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":17,"cssClass":"pl-s1"},{"start":18,"end":24,"cssClass":"pl-s1"},{"start":25,"end":27,"cssClass":"pl-k"},{"start":28,"end":31,"cssClass":"pl-s1"}],[],[{"start":0,"end":13,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":5,"cssClass":"pl-c1"},{"start":6,"end":9,"cssClass":"pl-s1"},{"start":10,"end":16,"cssClass":"pl-en"},{"start":17,"end":24,"cssClass":"pl-s1"},{"start":24,"end":25,"cssClass":"pl-c1"},{"start":26,"end":28,"cssClass":"pl-c1"},{"start":29,"end":30,"cssClass":"pl-c1"},{"start":33,"end":36,"cssClass":"pl-s1"},{"start":36,"end":37,"cssClass":"pl-c1"},{"start":37,"end":40,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":9,"cssClass":"pl-en"},{"start":10,"end":63,"cssClass":"pl-s"},{"start":65,"end":73,"cssClass":"pl-s1"},{"start":73,"end":74,"cssClass":"pl-c1"},{"start":74,"end":76,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":10,"cssClass":"pl-en"},{"start":11,"end":42,"cssClass":"pl-s"},{"start":44,"end":52,"cssClass":"pl-s1"},{"start":52,"end":53,"cssClass":"pl-c1"},{"start":53,"end":55,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":10,"cssClass":"pl-en"},{"start":11,"end":19,"cssClass":"pl-s1"},{"start":19,"end":20,"cssClass":"pl-c1"},{"start":20,"end":22,"cssClass":"pl-c1"}],[],[{"start":0,"end":32,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":8,"cssClass":"pl-en"},{"start":9,"end":16,"cssClass":"pl-s1"},{"start":17,"end":29,"cssClass":"pl-s"},{"start":32,"end":39,"cssClass":"pl-s1"},{"start":40,"end":63,"cssClass":"pl-s"},{"start":66,"end":67,"cssClass":"pl-s1"},{"start":67,"end":68,"cssClass":"pl-c1"},{"start":68,"end":74,"cssClass":"pl-s"},{"start":76,"end":85,"cssClass":"pl-s1"},{"start":85,"end":86,"cssClass":"pl-c1"},{"start":86,"end":87,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":8,"cssClass":"pl-en"},{"start":9,"end":16,"cssClass":"pl-s1"},{"start":17,"end":29,"cssClass":"pl-s"},{"start":32,"end":39,"cssClass":"pl-s1"},{"start":40,"end":58,"cssClass":"pl-s"},{"start":61,"end":62,"cssClass":"pl-s1"},{"start":62,"end":63,"cssClass":"pl-c1"},{"start":63,"end":68,"cssClass":"pl-s"},{"start":70,"end":79,"cssClass":"pl-s1"},{"start":79,"end":80,"cssClass":"pl-c1"},{"start":80,"end":81,"cssClass":"pl-c1"}],[],[{"start":0,"end":45,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":11,"cssClass":"pl-en"},{"start":12,"end":13,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":14,"end":21,"cssClass":"pl-s1"},{"start":22,"end":34,"cssClass":"pl-s"},{"start":37,"end":38,"cssClass":"pl-s1"},{"start":38,"end":39,"cssClass":"pl-c1"},{"start":39,"end":46,"cssClass":"pl-s1"},{"start":47,"end":72,"cssClass":"pl-s"},{"start":75,"end":76,"cssClass":"pl-s1"},{"start":76,"end":77,"cssClass":"pl-c1"},{"start":77,"end":83,"cssClass":"pl-s"},{"start":85,"end":90,"cssClass":"pl-s1"},{"start":90,"end":91,"cssClass":"pl-c1"},{"start":91,"end":94,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":11,"cssClass":"pl-en"},{"start":12,"end":13,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":14,"end":21,"cssClass":"pl-s1"},{"start":22,"end":34,"cssClass":"pl-s"},{"start":37,"end":38,"cssClass":"pl-s1"},{"start":38,"end":39,"cssClass":"pl-c1"},{"start":39,"end":46,"cssClass":"pl-s1"},{"start":47,"end":67,"cssClass":"pl-s"},{"start":70,"end":71,"cssClass":"pl-s1"},{"start":71,"end":72,"cssClass":"pl-c1"},{"start":72,"end":77,"cssClass":"pl-s"},{"start":79,"end":84,"cssClass":"pl-s1"},{"start":84,"end":85,"cssClass":"pl-c1"},{"start":85,"end":88,"cssClass":"pl-c1"}],[],[{"start":0,"end":50,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-s1"},{"start":7,"end":8,"cssClass":"pl-c1"},{"start":9,"end":16,"cssClass":"pl-s1"},{"start":17,"end":29,"cssClass":"pl-s"},{"start":31,"end":32,"cssClass":"pl-c1"},{"start":37,"end":39,"cssClass":"pl-c1"},{"start":43,"end":126,"cssClass":"pl-c"}],[{"start":0,"end":12,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":16,"end":19,"cssClass":"pl-en"},{"start":20,"end":21,"cssClass":"pl-s1"},{"start":23,"end":26,"cssClass":"pl-k"},{"start":27,"end":28,"cssClass":"pl-s1"},{"start":29,"end":31,"cssClass":"pl-c1"},{"start":32,"end":38,"cssClass":"pl-s1"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":10,"cssClass":"pl-en"},{"start":11,"end":17,"cssClass":"pl-s1"},{"start":19,"end":31,"cssClass":"pl-s1"},{"start":33,"end":41,"cssClass":"pl-s1"},{"start":41,"end":42,"cssClass":"pl-c1"},{"start":42,"end":44,"cssClass":"pl-c1"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":10,"cssClass":"pl-en"},{"start":11,"end":19,"cssClass":"pl-s1"},{"start":19,"end":20,"cssClass":"pl-c1"},{"start":20,"end":22,"cssClass":"pl-c1"}],[],[{"start":0,"end":16,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":10,"cssClass":"pl-en"},{"start":12,"end":37,"cssClass":"pl-s"},{"start":39,"end":59,"cssClass":"pl-s"},{"start":62,"end":70,"cssClass":"pl-s1"},{"start":70,"end":71,"cssClass":"pl-c1"},{"start":71,"end":73,"cssClass":"pl-c1"},{"start":75,"end":82,"cssClass":"pl-s1"},{"start":82,"end":83,"cssClass":"pl-c1"},{"start":83,"end":88,"cssClass":"pl-c1"}],[],[{"start":0,"end":14,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-s1"},{"start":4,"end":8,"cssClass":"pl-en"}],[],[],[{"start":0,"end":81,"cssClass":"pl-c"}],[{"start":0,"end":52,"cssClass":"pl-c"}],[{"start":0,"end":81,"cssClass":"pl-c"}],[],[{"start":0,"end":15,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":13,"cssClass":"pl-s1"},{"start":14,"end":16,"cssClass":"pl-k"},{"start":17,"end":19,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":13,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":15,"cssClass":"pl-s1"}],[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":17,"cssClass":"pl-s1"},{"start":18,"end":20,"cssClass":"pl-k"},{"start":21,"end":23,"cssClass":"pl-s1"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":12,"cssClass":"pl-s1"},{"start":13,"end":26,"cssClass":"pl-s1"},{"start":27,"end":33,"cssClass":"pl-k"},{"start":34,"end":46,"cssClass":"pl-v"}],[],[{"start":0,"end":38,"cssClass":"pl-c"}],[{"start":0,"end":8,"cssClass":"pl-s1"},{"start":9,"end":10,"cssClass":"pl-c1"},{"start":11,"end":96,"cssClass":"pl-s"}],[],[{"start":0,"end":12,"cssClass":"pl-c"}],[{"start":0,"end":2,"cssClass":"pl-s1"},{"start":3,"end":4,"cssClass":"pl-c1"},{"start":5,"end":12,"cssClass":"pl-s1"}],[{"start":0,"end":2,"cssClass":"pl-s1"},{"start":3,"end":4,"cssClass":"pl-c1"},{"start":5,"end":7,"cssClass":"pl-s1"},{"start":8,"end":14,"cssClass":"pl-en"}],[{"start":0,"end":2,"cssClass":"pl-s1"},{"start":3,"end":4,"cssClass":"pl-c1"},{"start":5,"end":7,"cssClass":"pl-s1"},{"start":8,"end":12,"cssClass":"pl-en"},{"start":13,"end":20,"cssClass":"pl-s1"},{"start":20,"end":21,"cssClass":"pl-c1"},{"start":22,"end":39,"cssClass":"pl-s"}],[],[{"start":0,"end":42,"cssClass":"pl-c"}],[{"start":0,"end":8,"cssClass":"pl-s1"},{"start":9,"end":10,"cssClass":"pl-c1"},{"start":11,"end":19,"cssClass":"pl-s1"},{"start":20,"end":23,"cssClass":"pl-en"},{"start":24,"end":32,"cssClass":"pl-s1"}],[{"start":0,"end":10,"cssClass":"pl-s1"},{"start":11,"end":12,"cssClass":"pl-c1"},{"start":13,"end":19,"cssClass":"pl-s1"},{"start":20,"end":25,"cssClass":"pl-en"},{"start":26,"end":34,"cssClass":"pl-s1"},{"start":35,"end":42,"cssClass":"pl-s1"}],[],[{"start":0,"end":36,"cssClass":"pl-c"}],[{"start":0,"end":12,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":15,"end":17,"cssClass":"pl-s1"},{"start":18,"end":23,"cssClass":"pl-s1"},{"start":24,"end":30,"cssClass":"pl-s1"},{"start":31,"end":46,"cssClass":"pl-en"},{"start":47,"end":57,"cssClass":"pl-s1"},{"start":58,"end":72,"cssClass":"pl-s"}],[],[{"start":0,"end":23,"cssClass":"pl-c"}],[{"start":0,"end":12,"cssClass":"pl-s1"},{"start":13,"end":24,"cssClass":"pl-en"},{"start":25,"end":35,"cssClass":"pl-s1"},{"start":36,"end":45,"cssClass":"pl-s"}],[],[{"start":0,"end":21,"cssClass":"pl-c"}],[{"start":0,"end":13,"cssClass":"pl-s1"},{"start":14,"end":15,"cssClass":"pl-c1"},{"start":16,"end":28,"cssClass":"pl-v"}],[{"start":0,"end":2,"cssClass":"pl-s1"},{"start":3,"end":13,"cssClass":"pl-s"},{"start":15,"end":16,"cssClass":"pl-c1"},{"start":17,"end":30,"cssClass":"pl-s1"},{"start":31,"end":44,"cssClass":"pl-en"},{"start":45,"end":47,"cssClass":"pl-s1"},{"start":48,"end":58,"cssClass":"pl-s"},{"start":62,"end":86,"cssClass":"pl-c"}],[],[{"start":0,"end":40,"cssClass":"pl-c"}],[{"start":0,"end":1,"cssClass":"pl-v"},{"start":2,"end":3,"cssClass":"pl-c1"},{"start":4,"end":6,"cssClass":"pl-s1"},{"start":7,"end":11,"cssClass":"pl-en"},{"start":12,"end":22,"cssClass":"pl-s"},{"start":24,"end":28,"cssClass":"pl-s1"},{"start":28,"end":29,"cssClass":"pl-c1"},{"start":29,"end":30,"cssClass":"pl-c1"}],[],[{"start":0,"end":20,"cssClass":"pl-c"}],[{"start":0,"end":11,"cssClass":"pl-s1"},{"start":12,"end":13,"cssClass":"pl-c1"},{"start":14,"end":26,"cssClass":"pl-s1"},{"start":27,"end":34,"cssClass":"pl-en"},{"start":35,"end":36,"cssClass":"pl-v"}],[],[{"start":0,"end":48,"cssClass":"pl-c"}],[{"start":0,"end":14,"cssClass":"pl-s1"},{"start":15,"end":16,"cssClass":"pl-c1"},{"start":18,"end":21,"cssClass":"pl-en"},{"start":22,"end":25,"cssClass":"pl-en"},{"start":26,"end":29,"cssClass":"pl-en"},{"start":30,"end":31,"cssClass":"pl-s1"},{"start":32,"end":37,"cssClass":"pl-en"},{"start":38,"end":39,"cssClass":"pl-c1"},{"start":42,"end":43,"cssClass":"pl-c1"},{"start":46,"end":47,"cssClass":"pl-c1"},{"start":50,"end":53,"cssClass":"pl-k"},{"start":54,"end":55,"cssClass":"pl-s1"},{"start":56,"end":58,"cssClass":"pl-c1"},{"start":59,"end":70,"cssClass":"pl-s1"}],[],[{"start":0,"end":29,"cssClass":"pl-c"}],[{"start":0,"end":14,"cssClass":"pl-s1"},{"start":15,"end":16,"cssClass":"pl-c1"},{"start":17,"end":30,"cssClass":"pl-s1"},{"start":31,"end":48,"cssClass":"pl-en"},{"start":49,"end":63,"cssClass":"pl-s1"}],[],[{"start":0,"end":43,"cssClass":"pl-c"}],[{"start":0,"end":2,"cssClass":"pl-s1"},{"start":3,"end":9,"cssClass":"pl-en"},{"start":10,"end":11,"cssClass":"pl-c1"},{"start":13,"end":33,"cssClass":"pl-s"},{"start":35,"end":49,"cssClass":"pl-s1"}],[],[{"start":0,"end":17,"cssClass":"pl-c"}],[{"start":0,"end":2,"cssClass":"pl-s1"},{"start":3,"end":13,"cssClass":"pl-s"},{"start":15,"end":16,"cssClass":"pl-c1"},{"start":17,"end":30,"cssClass":"pl-s1"},{"start":31,"end":48,"cssClass":"pl-en"},{"start":49,"end":51,"cssClass":"pl-s1"},{"start":52,"end":62,"cssClass":"pl-s"}]],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/tomweinandy/AIinPowerBI/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/tomweinandy/AIinPowerBI/security/dependabot","repoSecurityAndAnalysisPath":"/tomweinandy/AIinPowerBI/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":false},"displayName":"vending_scripts.py","displayUrl":"https://github.com/tomweinandy/AIinPowerBI/blob/main/vending_scripts.py?raw=true","headerInfo":{"blobSize":"4.59 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"030ff76","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Ftomweinandy%2FAIinPowerBI%2Fblob%2Fmain%2Fvending_scripts.py","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"138","truncatedSloc":"100"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Python","languageID":303,"large":false,"loggedIn":false,"newDiscussionPath":"/tomweinandy/AIinPowerBI/discussions/new","newIssuePath":"/tomweinandy/AIinPowerBI/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/tomweinandy/AIinPowerBI/blob/main/vending_scripts.py","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/tomweinandy/AIinPowerBI/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"rawBlobUrl":"https://github.com/tomweinandy/AIinPowerBI/raw/main/vending_scripts.py","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"tomweinandy","repoName":"AIinPowerBI","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":false,"symbols":[{"name":"filepath","kind":"constant","identStart":350,"identEnd":358,"extentStart":350,"extentEnd":405,"fullyQualifiedName":"filepath","identUtf16":{"start":{"lineNumber":13,"utf16Col":0},"end":{"lineNumber":13,"utf16Col":8}},"extentUtf16":{"start":{"lineNumber":13,"utf16Col":0},"end":{"lineNumber":13,"utf16Col":55}}},{"name":"data_folder","kind":"constant","identStart":406,"identEnd":417,"extentStart":406,"extentEnd":448,"fullyQualifiedName":"data_folder","identUtf16":{"start":{"lineNumber":14,"utf16Col":0},"end":{"lineNumber":14,"utf16Col":11}},"extentUtf16":{"start":{"lineNumber":14,"utf16Col":0},"end":{"lineNumber":14,"utf16Col":42}}},{"name":"files","kind":"constant","identStart":499,"identEnd":504,"extentStart":499,"extentEnd":530,"fullyQualifiedName":"files","identUtf16":{"start":{"lineNumber":17,"utf16Col":0},"end":{"lineNumber":17,"utf16Col":5}},"extentUtf16":{"start":{"lineNumber":17,"utf16Col":0},"end":{"lineNumber":17,"utf16Col":31}}},{"name":"google_trends_files","kind":"constant","identStart":564,"identEnd":583,"extentStart":564,"extentEnd":643,"fullyQualifiedName":"google_trends_files","identUtf16":{"start":{"lineNumber":20,"utf16Col":0},"end":{"lineNumber":20,"utf16Col":19}},"extentUtf16":{"start":{"lineNumber":20,"utf16Col":0},"end":{"lineNumber":20,"utf16Col":79}}},{"name":"most_recent_file","kind":"constant","identStart":677,"identEnd":693,"extentStart":677,"extentEnd":720,"fullyQualifiedName":"most_recent_file","identUtf16":{"start":{"lineNumber":23,"utf16Col":0},"end":{"lineNumber":23,"utf16Col":16}},"extentUtf16":{"start":{"lineNumber":23,"utf16Col":0},"end":{"lineNumber":23,"utf16Col":43}}},{"name":"df","kind":"constant","identStart":734,"identEnd":736,"extentStart":734,"extentEnd":791,"fullyQualifiedName":"df","identUtf16":{"start":{"lineNumber":26,"utf16Col":0},"end":{"lineNumber":26,"utf16Col":2}},"extentUtf16":{"start":{"lineNumber":26,"utf16Col":0},"end":{"lineNumber":26,"utf16Col":57}}},{"name":"df_rolling","kind":"constant","identStart":1071,"identEnd":1081,"extentStart":1071,"extentEnd":1110,"fullyQualifiedName":"df_rolling","identUtf16":{"start":{"lineNumber":38,"utf16Col":0},"end":{"lineNumber":38,"utf16Col":10}},"extentUtf16":{"start":{"lineNumber":38,"utf16Col":0},"end":{"lineNumber":38,"utf16Col":39}}},{"name":"df_rolling","kind":"constant","identStart":1111,"identEnd":1121,"extentStart":1111,"extentEnd":1167,"fullyQualifiedName":"df_rolling","identUtf16":{"start":{"lineNumber":39,"utf16Col":0},"end":{"lineNumber":39,"utf16Col":10}},"extentUtf16":{"start":{"lineNumber":39,"utf16Col":0},"end":{"lineNumber":39,"utf16Col":56}}},{"name":"df_rolling","kind":"constant","identStart":1168,"identEnd":1178,"extentStart":1168,"extentEnd":1205,"fullyQualifiedName":"df_rolling","identUtf16":{"start":{"lineNumber":40,"utf16Col":0},"end":{"lineNumber":40,"utf16Col":10}},"extentUtf16":{"start":{"lineNumber":40,"utf16Col":0},"end":{"lineNumber":40,"utf16Col":37}}},{"name":"df_rolling","kind":"constant","identStart":1224,"identEnd":1234,"extentStart":1224,"extentEnd":1413,"fullyQualifiedName":"df_rolling","identUtf16":{"start":{"lineNumber":43,"utf16Col":0},"end":{"lineNumber":43,"utf16Col":10}},"extentUtf16":{"start":{"lineNumber":43,"utf16Col":0},"end":{"lineNumber":43,"utf16Col":189}}},{"name":"date_column","kind":"constant","identStart":1712,"identEnd":1723,"extentStart":1712,"extentEnd":1774,"fullyQualifiedName":"date_column","identUtf16":{"start":{"lineNumber":50,"utf16Col":0},"end":{"lineNumber":50,"utf16Col":11}},"extentUtf16":{"start":{"lineNumber":50,"utf16Col":0},"end":{"lineNumber":50,"utf16Col":62}}},{"name":"fig","kind":"constant","identStart":2080,"identEnd":2083,"extentStart":2080,"extentEnd":2121,"fullyQualifiedName":"fig","identUtf16":{"start":{"lineNumber":62,"utf16Col":0},"end":{"lineNumber":62,"utf16Col":3}},"extentUtf16":{"start":{"lineNumber":62,"utf16Col":0},"end":{"lineNumber":62,"utf16Col":41}}},{"name":"xticks","kind":"constant","identStart":2772,"identEnd":2778,"extentStart":2772,"extentEnd":2812,"fullyQualifiedName":"xticks","identUtf16":{"start":{"lineNumber":76,"utf16Col":0},"end":{"lineNumber":76,"utf16Col":6}},"extentUtf16":{"start":{"lineNumber":76,"utf16Col":0},"end":{"lineNumber":76,"utf16Col":40}}},{"name":"xtick_labels","kind":"constant","identStart":2899,"identEnd":2911,"extentStart":2899,"extentEnd":2938,"fullyQualifiedName":"xtick_labels","identUtf16":{"start":{"lineNumber":77,"utf16Col":0},"end":{"lineNumber":77,"utf16Col":12}},"extentUtf16":{"start":{"lineNumber":77,"utf16Col":0},"end":{"lineNumber":77,"utf16Col":39}}},{"name":"algo_url","kind":"constant","identStart":3541,"identEnd":3549,"extentStart":3541,"extentEnd":3637,"fullyQualifiedName":"algo_url","identUtf16":{"start":{"lineNumber":100,"utf16Col":0},"end":{"lineNumber":100,"utf16Col":8}},"extentUtf16":{"start":{"lineNumber":100,"utf16Col":0},"end":{"lineNumber":100,"utf16Col":96}}},{"name":"df","kind":"constant","identStart":3652,"identEnd":3654,"extentStart":3652,"extentEnd":3664,"fullyQualifiedName":"df","identUtf16":{"start":{"lineNumber":103,"utf16Col":0},"end":{"lineNumber":103,"utf16Col":2}},"extentUtf16":{"start":{"lineNumber":103,"utf16Col":0},"end":{"lineNumber":103,"utf16Col":12}}},{"name":"df","kind":"constant","identStart":3665,"identEnd":3667,"extentStart":3665,"extentEnd":3681,"fullyQualifiedName":"df","identUtf16":{"start":{"lineNumber":104,"utf16Col":0},"end":{"lineNumber":104,"utf16Col":2}},"extentUtf16":{"start":{"lineNumber":104,"utf16Col":0},"end":{"lineNumber":104,"utf16Col":16}}},{"name":"df","kind":"constant","identStart":3682,"identEnd":3684,"extentStart":3682,"extentEnd":3723,"fullyQualifiedName":"df","identUtf16":{"start":{"lineNumber":105,"utf16Col":0},"end":{"lineNumber":105,"utf16Col":2}},"extentUtf16":{"start":{"lineNumber":105,"utf16Col":0},"end":{"lineNumber":105,"utf16Col":41}}},{"name":"response","kind":"constant","identStart":3768,"identEnd":3776,"extentStart":3768,"extentEnd":3801,"fullyQualifiedName":"response","identUtf16":{"start":{"lineNumber":108,"utf16Col":0},"end":{"lineNumber":108,"utf16Col":8}},"extentUtf16":{"start":{"lineNumber":108,"utf16Col":0},"end":{"lineNumber":108,"utf16Col":33}}},{"name":"model_info","kind":"constant","identStart":3802,"identEnd":3812,"extentStart":3802,"extentEnd":3845,"fullyQualifiedName":"model_info","identUtf16":{"start":{"lineNumber":109,"utf16Col":0},"end":{"lineNumber":109,"utf16Col":10}},"extentUtf16":{"start":{"lineNumber":109,"utf16Col":0},"end":{"lineNumber":109,"utf16Col":43}}},{"name":"loaded_model","kind":"constant","identStart":3884,"identEnd":3896,"extentStart":3884,"extentEnd":3958,"fullyQualifiedName":"loaded_model","identUtf16":{"start":{"lineNumber":112,"utf16Col":0},"end":{"lineNumber":112,"utf16Col":12}},"extentUtf16":{"start":{"lineNumber":112,"utf16Col":0},"end":{"lineNumber":112,"utf16Col":74}}},{"name":"label_encoder","kind":"constant","identStart":4055,"identEnd":4068,"extentStart":4055,"extentEnd":4085,"fullyQualifiedName":"label_encoder","identUtf16":{"start":{"lineNumber":118,"utf16Col":0},"end":{"lineNumber":118,"utf16Col":13}},"extentUtf16":{"start":{"lineNumber":118,"utf16Col":0},"end":{"lineNumber":118,"utf16Col":30}}},{"name":"X","kind":"constant","identStart":4215,"identEnd":4216,"extentStart":4215,"extentEnd":4246,"fullyQualifiedName":"X","identUtf16":{"start":{"lineNumber":122,"utf16Col":0},"end":{"lineNumber":122,"utf16Col":1}},"extentUtf16":{"start":{"lineNumber":122,"utf16Col":0},"end":{"lineNumber":122,"utf16Col":31}}},{"name":"predictions","kind":"constant","identStart":4269,"identEnd":4280,"extentStart":4269,"extentEnd":4306,"fullyQualifiedName":"predictions","identUtf16":{"start":{"lineNumber":125,"utf16Col":0},"end":{"lineNumber":125,"utf16Col":11}},"extentUtf16":{"start":{"lineNumber":125,"utf16Col":0},"end":{"lineNumber":125,"utf16Col":37}}},{"name":"encoded_labels","kind":"constant","identStart":4357,"identEnd":4371,"extentStart":4357,"extentEnd":4428,"fullyQualifiedName":"encoded_labels","identUtf16":{"start":{"lineNumber":128,"utf16Col":0},"end":{"lineNumber":128,"utf16Col":14}},"extentUtf16":{"start":{"lineNumber":128,"utf16Col":0},"end":{"lineNumber":128,"utf16Col":71}}},{"name":"decoded_labels","kind":"constant","identStart":4460,"identEnd":4474,"extentStart":4460,"extentEnd":4524,"fullyQualifiedName":"decoded_labels","identUtf16":{"start":{"lineNumber":131,"utf16Col":0},"end":{"lineNumber":131,"utf16Col":14}},"extentUtf16":{"start":{"lineNumber":131,"utf16Col":0},"end":{"lineNumber":131,"utf16Col":64}}}]}},"copilotInfo":null,"copilotAccessAllowed":false,"csrf_tokens":{"/tomweinandy/AIinPowerBI/branches":{"post":"SprtHfAZi4A2ntoCUbpcvMFApNEUfZ7Qt-len3uGpLRzui5Xf-sOKvowieWMUPAKv4XbLWh0bgqmqNYpxtmHJA"},"/repos/preferences":{"post":"zk2N6xu2lXu3IXDbdy3Jmis7jrVNsS29MDh6vJqrO-zjdR1rhEZ5PphGdf0kq-b2Z_TfsXp6Bil2E-XUKriyMQ"}}},"title":"AIinPowerBI/vending_scripts.py at main Â· tomweinandy/AIinPowerBI"}